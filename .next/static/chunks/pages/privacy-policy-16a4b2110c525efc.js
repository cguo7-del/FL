(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[396],{9587:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privacy-policy",function(){return t(9325)}])},5981:function(e,r,t){"use strict";t.d(r,{G_:function(){return u},YX:function(){return d},r5:function(){return l},supabase:function(){return s},x0:function(){return c}});var n=t(1608),o=t(3454);let a=o.env.SUPABASE_URL||"https://crnfwlpcxrnqfgwqnmun.supabase.co",i=o.env.SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNybmZ3bHBjeHJucWZnd3FubXVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNTAzMDQsImV4cCI6MjA3MDcyNjMwNH0.g_HmFQQiuGW2TZRzZ5gqCj098DZy6iwn_xQAE6kEUEI",s=(0,n.eI)(a,i),c=e=>{let r="";return("string"==typeof e?r=e:(null==e?void 0:e.message)?r=e.message:(null==e?void 0:e.error_description)&&(r=e.error_description),r.toLowerCase().includes("new password should be different"))?"新密码不能与旧密码相同":({"Invalid login credentials":"邮箱或密码错误","Email not confirmed":"邮箱未验证，请检查您的邮箱","User already registered":"该邮箱已注册","Password should be at least 6 characters":"密码至少需要6位字符","Signup requires a valid password":"注册需要有效的密码","Invalid email":"邮箱格式不正确","Email rate limit exceeded":"邮件发送频率过高，请稍后再试","Too many requests":"请求过于频繁，请稍后再试","Network request failed":"网络请求失败，请检查网络连接","User not found":"用户不存在","Email already taken":"该邮箱已被使用","Weak password":"密码强度不够，请使用更复杂的密码","New password should be different from the old password":"新密码不能与旧密码相同","new password should be different from the old password":"新密码不能与旧密码相同","Password update failed":"密码更新失败，请稍后重试","Session not found":"会话已过期，请重新获取重置链接","Invalid recovery token":"重置链接无效或已过期，请重新申请","Auth session missing":"认证会话缺失，请重新获取重置链接"})[r]||r||"发生未知错误，请稍后重试"},l={async signUp(e,r,t){try{let{data:n,error:o}=await s.auth.signUp({email:e,password:r,options:{data:{username:t},emailRedirectTo:"".concat("https://fanglue.org","/auth")}});if(o)throw Error(c(o));return n}catch(e){throw Error(c(e))}},async signIn(e,r){try{let{data:t,error:n}=await s.auth.signInWithPassword({email:e,password:r});if(n)throw Error(c(n));return t}catch(e){throw Error(c(e))}},async signOut(){try{let{error:e}=await s.auth.signOut();if(e)throw Error(c(e));return!0}catch(e){throw Error(c(e))}},async getCurrentUser(){try{let{data:{user:e},error:r}=await s.auth.getUser();if(r)throw Error(c(r));return e}catch(e){throw Error(c(e))}},onAuthStateChange:e=>s.auth.onAuthStateChange(e)},d={supabase:s,async insert(e,r){let{data:t,error:n}=await s.from(e).insert(r).select();if(n)throw console.error("插入数据错误:",n),n;return t},async select(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=s.from(e).select("*");Object.entries(r).forEach(e=>{let[r,n]=e;t=t.eq(r,n)});let{data:n,error:o}=await t;if(o)throw console.error("查询数据错误:",o),o;return n},async update(e,r,t){let{data:n,error:o}=await s.from(e).update(t).eq("id",r).select();if(o)throw console.error("更新数据错误:",o),o;return n},async delete(e,r){let{error:t}=await s.from(e).delete().eq("id",r);if(t)throw console.error("删除数据错误:",t),t;return!0},async testConnection(){try{let{data:e,error:r}=await s.rpc("version");if(r){let{error:e}=await s.from("test_connection_table").select("*").limit(1);if(e&&("PGRST116"===e.code||"42P01"===e.code))return console.log("数据库连接成功!"),!0;return console.error("数据库连接测试失败:",e||r),!1}return console.log("数据库连接成功!"),!0}catch(e){return console.error("连接测试异常:",e),!1}}},u={async saveCollection(e,r,t){try{let{data:n,error:o}=await s.from("user_collections").insert({user_id:e,question:r,answer:t}).select();if(o)throw console.error("收藏保存失败:",o),o;return n[0]}catch(e){throw console.error("收藏操作异常:",e),e}},async getUserCollections(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{let n=(r-1)*t,{data:o,error:a,count:i}=await s.from("user_collections").select("*",{count:"exact"}).eq("user_id",e).order("updated_at",{ascending:!1}).range(n,n+t-1);if(a)throw console.error("获取收藏列表失败:",a),a;return{data:o||[],total:i||0,page:r,pageSize:t,totalPages:Math.ceil((i||0)/t)}}catch(e){throw console.error("获取收藏列表异常:",e),e}},async deleteCollections(e){try{let{error:r}=await s.from("user_collections").delete().in("id",e);if(r)throw console.error("删除收藏失败:",r),r;return!0}catch(e){throw console.error("删除收藏异常:",e),e}},async checkIfCollected(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let n=s.from("user_collections").select("id").eq("user_id",e).eq("question",r);t&&(n=n.ilike("answer","%".concat(t,"%")));let{data:o,error:a}=await n.limit(1);if(a)throw console.error("检查收藏状态失败:",a),a;return o&&o.length>0}catch(e){throw console.error("检查收藏状态异常:",e),e}}}},9325:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var n=t(5893),o=t(7294),a=t(9008),i=t.n(a),s=t(1163),c=t(9046),l=t.n(c),d=t(5981);function u(){var e;let r=(0,s.useRouter)(),[t,a]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{try{let e=await d.r5.getCurrentUser();a(e)}catch(e){a(null)}})();let{data:{subscription:e}}=d.r5.onAuthStateChange((e,r)=>{"SIGNED_IN"===e?a((null==r?void 0:r.user)||null):"SIGNED_OUT"===e&&a(null)});return()=>e.unsubscribe()},[]);let h=async()=>{try{await d.r5.signOut(),u(!1)}catch(e){console.error("登出错误:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"隐私政策 - 方略 Fanglue"}),(0,n.jsx)("meta",{name:"description",content:"方略隐私政策 - 了解我们如何保护您的个人信息"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsxs)("nav",{className:l().navbar,children:[(0,n.jsx)("div",{className:l().brand,onClick:()=>r.push("/"),style:{cursor:"pointer"},children:"方略 Fanglue"}),(0,n.jsx)("div",{className:l().navLinks,children:t?(0,n.jsxs)("div",{className:l().userMenu,children:[(0,n.jsxs)("button",{className:l().userButton,onClick:()=>u(!c),children:[(null===(e=t.user_metadata)||void 0===e?void 0:e.username)||t.email,(0,n.jsx)("span",{className:l().dropdownArrow,children:"▼"})]}),c&&(0,n.jsxs)("div",{className:l().dropdown,children:[(0,n.jsx)("button",{className:l().dropdownItem,onClick:()=>{u(!1),r.push("/profile")},children:"个人资料"}),(0,n.jsx)("button",{className:l().dropdownItem,onClick:()=>{u(!1),r.push("/collection")},children:"历问历答"}),(0,n.jsx)("hr",{className:l().dropdownDivider}),(0,n.jsx)("button",{className:l().dropdownItem,onClick:h,children:"退出登录"})]})]}):(0,n.jsx)("button",{className:l().authBtn,onClick:()=>r.push("/auth"),children:"注册/登录"})})]}),(0,n.jsxs)("main",{className:l().mainContent,children:[(0,n.jsx)("div",{className:l().pageTitle,children:(0,n.jsx)("h1",{className:l().titleLine,children:"隐私政策"})}),(0,n.jsx)("div",{className:l().contentSection,children:(0,n.jsxs)("div",{className:l().contentText,children:[(0,n.jsx)("p",{children:'方略（以下简称"我们"）非常注重您的隐私，我们致力于维持您对我们的信任，并保护您的个人信息'}),(0,n.jsx)("p",{children:"您留下的邮箱和提问内容，只会被用来改进功能和优化用户体验。我们会尽全力保护您的个人信息安全，采取合理的技术和管理措施，防止未经授权的访问、泄露或篡改。我们承诺不会将您的个人信息出售给任何第三方。我们仅在为您提供服务、改善用户体验、保障系统安全等必要情况下使用您的信息，并严格按照相关法律法规的要求进行处理"}),(0,n.jsx)("p",{children:"隐私政策可能会不时更新，我们会在网站上发布最新版本，您可以随时查看"}),(0,n.jsx)("p",{children:"如果您对我们的隐私政策有任何疑问或建议，欢迎通过contact@fanglue.org与我们联系。我们会认真对待每一份反馈，并持续完善我们的隐私保护措施"})]})})]}),(0,n.jsxs)("footer",{className:l().footerSection,children:[(0,n.jsx)("div",{className:l().footerTitle,children:"让千载经略，为你今日一策"}),(0,n.jsxs)("div",{className:l().footerButtons,children:[(0,n.jsx)("a",{href:"#",className:l().footerBtn,title:"功能开发中，敬请期待",children:"众议百解"}),(0,n.jsx)("a",{href:"#",className:l().footerBtn,title:"功能开发中，敬请期待",children:"一日一策"}),(0,n.jsx)("a",{href:"/collection",className:l().footerBtn,children:"历问历答"})]}),(0,n.jsxs)("div",{className:l().footerNavigation,children:[(0,n.jsx)("span",{className:l().copyright,children:"\xa9 2025 Fanglue.org"}),(0,n.jsx)("span",{className:l().navSeparator,children:"|"}),(0,n.jsx)("a",{href:"/about",className:l().footerNavLink,children:"关于我们"}),(0,n.jsx)("span",{className:l().navSeparator,children:"|"}),(0,n.jsx)("a",{href:"/contact",className:l().footerNavLink,children:"联系我们"}),(0,n.jsx)("span",{className:l().navSeparator,children:"|"}),(0,n.jsx)("a",{href:"/advertise",className:l().footerNavLink,children:"广告合作"}),(0,n.jsx)("span",{className:l().navSeparator,children:"|"}),(0,n.jsx)("a",{href:"/privacy-policy",className:l().footerNavLink,children:"隐私政策"}),(0,n.jsx)("span",{className:l().navSeparator,children:"|"}),(0,n.jsx)("a",{href:"/terms",className:l().footerNavLink,children:"服务条款"})]})]})]})]})}},9046:function(e){e.exports={container:"PrivacyPolicy_container__JyckQ",navbar:"PrivacyPolicy_navbar__iehxr",brand:"PrivacyPolicy_brand__QGMNW",navLinks:"PrivacyPolicy_navLinks__q5mP_",authBtn:"PrivacyPolicy_authBtn__myRyL",userMenu:"PrivacyPolicy_userMenu__vbDXN",userButton:"PrivacyPolicy_userButton__4IDCa",dropdownArrow:"PrivacyPolicy_dropdownArrow__a31TS",dropdown:"PrivacyPolicy_dropdown__R_9NL",dropdownFadeIn:"PrivacyPolicy_dropdownFadeIn__LhC1Y",dropdownItem:"PrivacyPolicy_dropdownItem__CYSoX",dropdownDivider:"PrivacyPolicy_dropdownDivider__Wrkw_",mainContent:"PrivacyPolicy_mainContent__lbK_F",pageTitle:"PrivacyPolicy_pageTitle__zH1Yn",titleLine:"PrivacyPolicy_titleLine__J_4vK",contentSection:"PrivacyPolicy_contentSection__5AEHC",contentText:"PrivacyPolicy_contentText__4J0o7",footerSection:"PrivacyPolicy_footerSection__8cacZ",footerTitle:"PrivacyPolicy_footerTitle__KMO8a",footerButtons:"PrivacyPolicy_footerButtons__MRCWt",footerBtn:"PrivacyPolicy_footerBtn___iXd7",footerNavigation:"PrivacyPolicy_footerNavigation__11iMr",copyright:"PrivacyPolicy_copyright__SCFKr",navSeparator:"PrivacyPolicy_navSeparator__n_83K",footerNavLink:"PrivacyPolicy_footerNavLink__o_8wb"}},1163:function(e,r,t){e.exports=t(2937)}},function(e){e.O(0,[608,774,888,179],function(){return e(e.s=9587)}),_N_E=e.O()}]);