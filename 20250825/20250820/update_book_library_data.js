import { createClient } from '@supabase/supabase-js';

const supabaseUrl = 'https://crnfwlpcxrnqfgwqnmun.supabase.co';
const supabaseServiceKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNybmZ3bHBjeHJucWZnd3FubXVuIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTE1MDMwNCwiZXhwIjoyMDcwNzI2MzA0fQ.mMCVXnY4JaeUZcUAcXPnHox3rqtM_eO18dx6aW1xFII';

const supabase = createClient(supabaseUrl, supabaseServiceKey);

// å››å¤§æ–¹ç•¥ç»çº¬çš„ä¹¦ç±æ•°æ®
const bookData = {
  'è¡Œæ­£æŒç¤¼': [
    {
      book_name: 'è®ºè¯­',
      chapters: [
        {
          chapter_name: 'å­¦è€Œç¬¬ä¸€',
          chapter_content: 'å­æ›°ï¼š"å­¦è€Œæ—¶ä¹ ä¹‹ï¼Œä¸äº¦è¯´ä¹ï¼Ÿæœ‰æœ‹è‡ªè¿œæ–¹æ¥ï¼Œä¸äº¦ä¹ä¹ï¼Ÿäººä¸çŸ¥è€Œä¸æ„ ï¼Œä¸äº¦å›å­ä¹ï¼Ÿ"æœ‰å­æ›°ï¼š"å…¶ä¸ºäººä¹Ÿå­å¼Ÿï¼Œè€Œå¥½çŠ¯ä¸Šè€…ï¼Œé²œçŸ£ï¼›ä¸å¥½çŠ¯ä¸Šï¼Œè€Œå¥½ä½œä¹±è€…ï¼Œæœªä¹‹æœ‰ä¹Ÿã€‚å›å­åŠ¡æœ¬ï¼Œæœ¬ç«‹è€Œé“ç”Ÿã€‚å­å¼Ÿä¹Ÿè€…ï¼Œå…¶ä¸ºä»ä¹‹æœ¬ä¸ï¼"'
        },
        {
          chapter_name: 'ä¸ºæ”¿ç¬¬äºŒ',
          chapter_content: 'å­æ›°ï¼š"ä¸ºæ”¿ä»¥å¾·ï¼Œè­¬å¦‚åŒ—è¾°ï¼Œå±…å…¶æ‰€è€Œä¼—æ˜Ÿå…±ä¹‹ã€‚"å­æ›°ï¼š"ã€Šè¯—ã€‹ä¸‰ç™¾ï¼Œä¸€è¨€ä»¥è”½ä¹‹ï¼Œæ›°ï¼šæ€æ— é‚ªã€‚"å­æ›°ï¼š"é“ä¹‹ä»¥æ”¿ï¼Œé½ä¹‹ä»¥åˆ‘ï¼Œæ°‘å…è€Œæ— è€»ï¼›é“ä¹‹ä»¥å¾·ï¼Œé½ä¹‹ä»¥ç¤¼ï¼Œæœ‰è€»ä¸”æ ¼ã€‚"'
        }
      ]
    },
    {
      book_name: 'å­Ÿå­',
      chapters: [
        {
          chapter_name: 'æ¢æƒ ç‹ç« å¥ä¸Š',
          chapter_content: 'å­Ÿå­è§æ¢æƒ ç‹ã€‚ç‹æ›°ï¼š"åŸä¸è¿œåƒé‡Œè€Œæ¥ï¼Œäº¦å°†æœ‰ä»¥åˆ©å¾å›½ä¹ï¼Ÿ"å­Ÿå­å¯¹æ›°ï¼š"ç‹ä½•å¿…æ›°åˆ©ï¼Ÿäº¦æœ‰ä»ä¹‰è€Œå·²çŸ£ã€‚ç‹æ›°ä½•ä»¥åˆ©å¾å›½ï¼Œå¤§å¤«æ›°ä½•ä»¥åˆ©å¾å®¶ï¼Œå£«åº¶äººæ›°ä½•ä»¥åˆ©å¾èº«ï¼Œä¸Šä¸‹äº¤å¾åˆ©è€Œå›½å±çŸ£ã€‚"'
        },
        {
          chapter_name: 'å…¬å­™ä¸‘ç« å¥ä¸Š',
          chapter_content: 'å…¬å­™ä¸‘é—®æ›°ï¼š"å¤«å­å½“è·¯äºé½ï¼Œç®¡ä»²ã€æ™å­ä¹‹åŠŸï¼Œå¯å¤è®¸ä¹ï¼Ÿ"å­Ÿå­æ›°ï¼š"å­è¯šé½äººä¹Ÿï¼ŒçŸ¥ç®¡ä»²ã€æ™å­è€Œå·²çŸ£ã€‚æˆ–é—®ä¹æ›¾è¥¿æ›°ï¼šå¾å­ä¸å­è·¯å­°è´¤ï¼Ÿæ›¾è¥¿è¹´ç„¶æ›°ï¼šå¾å…ˆå­ä¹‹æ‰€ç•ä¹Ÿã€‚æ›°ï¼šç„¶åˆ™å¾å­ä¸ç®¡ä»²å­°è´¤ï¼Ÿæ›¾è¥¿è‰´ç„¶ä¸æ‚¦ï¼Œæ›°ï¼šå°”ä½•æ›¾æ¯”äºˆäºç®¡ä»²ï¼"'
        }
      ]
    },
    {
      book_name: 'ç¤¼è®°',
      chapters: [
        {
          chapter_name: 'å¤§å­¦',
          chapter_content: 'å¤§å­¦ä¹‹é“ï¼Œåœ¨æ˜æ˜å¾·ï¼Œåœ¨äº²æ°‘ï¼Œåœ¨æ­¢äºè‡³å–„ã€‚çŸ¥æ­¢è€Œåæœ‰å®šï¼Œå®šè€Œåèƒ½é™ï¼Œé™è€Œåèƒ½å®‰ï¼Œå®‰è€Œåèƒ½è™‘ï¼Œè™‘è€Œåèƒ½å¾—ã€‚ç‰©æœ‰æœ¬æœ«ï¼Œäº‹æœ‰ç»ˆå§‹ï¼ŒçŸ¥æ‰€å…ˆåï¼Œåˆ™è¿‘é“çŸ£ã€‚å¤ä¹‹æ¬²æ˜æ˜å¾·äºå¤©ä¸‹è€…ï¼Œå…ˆæ²»å…¶å›½ï¼›æ¬²æ²»å…¶å›½è€…ï¼Œå…ˆé½å…¶å®¶ï¼›æ¬²é½å…¶å®¶è€…ï¼Œå…ˆä¿®å…¶èº«ã€‚'
        },
        {
          chapter_name: 'ä¸­åº¸',
          chapter_content: 'å¤©å‘½ä¹‹è°“æ€§ï¼Œç‡æ€§ä¹‹è°“é“ï¼Œä¿®é“ä¹‹è°“æ•™ã€‚é“ä¹Ÿè€…ï¼Œä¸å¯é¡»è‡¾ç¦»ä¹Ÿï¼Œå¯ç¦»éé“ä¹Ÿã€‚æ˜¯æ•…å›å­æˆ’æ…ä¹å…¶æ‰€ä¸ç¹ï¼Œææƒ§ä¹å…¶æ‰€ä¸é—»ã€‚è«è§ä¹éšï¼Œè«æ˜¾ä¹å¾®ï¼Œæ•…å›å­æ…å…¶ç‹¬ä¹Ÿã€‚å–œæ€’å“€ä¹ä¹‹æœªå‘ï¼Œè°“ä¹‹ä¸­ï¼›å‘è€Œçš†ä¸­èŠ‚ï¼Œè°“ä¹‹å’Œã€‚ä¸­ä¹Ÿè€…ï¼Œå¤©ä¸‹ä¹‹å¤§æœ¬ä¹Ÿï¼›å’Œä¹Ÿè€…ï¼Œå¤©ä¸‹ä¹‹è¾¾é“ä¹Ÿã€‚'
        }
      ]
    },
    {
      book_name: 'è¿‘æ€å½•',
      chapters: [
        {
          chapter_name: 'é“ä½“',
          chapter_content: 'æ¿‚æºªå…ˆç”Ÿæ›°ï¼š"æ— æè€Œå¤ªæã€‚å¤ªæåŠ¨è€Œç”Ÿé˜³ï¼ŒåŠ¨æè€Œé™ï¼Œé™è€Œç”Ÿé˜´ï¼Œé™æå¤åŠ¨ã€‚ä¸€åŠ¨ä¸€é™ï¼Œäº’ä¸ºå…¶æ ¹ï¼›åˆ†é˜´åˆ†é˜³ï¼Œä¸¤ä»ªç«‹ç„‰ã€‚é˜³å˜é˜´åˆï¼Œè€Œç”Ÿæ°´ç«æœ¨é‡‘åœŸã€‚äº”æ°”é¡ºå¸ƒï¼Œå››æ—¶è¡Œç„‰ã€‚äº”è¡Œä¸€é˜´é˜³ä¹Ÿï¼Œé˜´é˜³ä¸€å¤ªæä¹Ÿï¼Œå¤ªææœ¬æ— æä¹Ÿã€‚"'
        },
        {
          chapter_name: 'ä¸ºå­¦å¤§è¦',
          chapter_content: 'æ˜é“å…ˆç”Ÿæ›°ï¼š"å­¦è€…é¡»å…ˆè¯†ä»ã€‚ä»è€…ï¼Œæµ‘ç„¶ä¸ç‰©åŒä½“ã€‚ä¹‰ã€ç¤¼ã€æ™ºã€ä¿¡çš†ä»ä¹Ÿã€‚è¯†å¾—æ­¤ç†ï¼Œä»¥è¯šæ•¬å­˜ä¹‹è€³ï¼Œä¸é¡»é˜²æ£€ï¼Œä¸é¡»ç©·ç´¢ã€‚è‹¥å¿ƒæ‡ˆåˆ™æœ‰é˜²ï¼Œå¿ƒè‹Ÿä¸æ‡ˆï¼Œä½•é˜²ä¹‹æœ‰ï¼Ÿç†æœ‰æœªå¾—ï¼Œæ•…é¡»ç©·ç´¢ï¼›å­˜ä¹…è‡ªæ˜ï¼Œå®‰å¾…ç©·ç´¢ï¼Ÿ"'
        }
      ]
    }
  ],
  'é¡ºåŠ¿è€Œä¸º': [
    {
      book_name: 'é“å¾·ç»',
      chapters: [
        {
          chapter_name: 'ç¬¬ä¸€ç« ',
          chapter_content: 'é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚æ— åå¤©åœ°ä¹‹å§‹ï¼Œæœ‰åä¸‡ç‰©ä¹‹æ¯ã€‚æ•…å¸¸æ— æ¬²ï¼Œä»¥è§‚å…¶å¦™ï¼›å¸¸æœ‰æ¬²ï¼Œä»¥è§‚å…¶å¾¼ã€‚æ­¤ä¸¤è€…åŒå‡ºè€Œå¼‚åï¼ŒåŒè°“ä¹‹ç„ï¼Œç„ä¹‹åˆç„ï¼Œä¼—å¦™ä¹‹é—¨ã€‚'
        },
        {
          chapter_name: 'ç¬¬å…«ç« ',
          chapter_content: 'ä¸Šå–„è‹¥æ°´ã€‚æ°´å–„åˆ©ä¸‡ç‰©è€Œä¸äº‰ï¼Œå¤„ä¼—äººä¹‹æ‰€æ¶ï¼Œæ•…å‡ äºé“ã€‚å±…å–„åœ°ï¼Œå¿ƒå–„æ¸Šï¼Œä¸å–„ä»ï¼Œè¨€å–„ä¿¡ï¼Œæ”¿å–„æ²»ï¼Œäº‹å–„èƒ½ï¼ŒåŠ¨å–„æ—¶ã€‚å¤«å”¯ä¸äº‰ï¼Œæ•…æ— å°¤ã€‚'
        }
      ]
    },
    {
      book_name: 'åº„å­',
      chapters: [
        {
          chapter_name: 'é€é¥æ¸¸',
          chapter_content: 'åŒ—å†¥æœ‰é±¼ï¼Œå…¶åä¸ºé²²ã€‚é²²ä¹‹å¤§ï¼Œä¸çŸ¥å…¶å‡ åƒé‡Œä¹Ÿï¼›åŒ–è€Œä¸ºé¸Ÿï¼Œå…¶åä¸ºé¹ã€‚é¹ä¹‹èƒŒï¼Œä¸çŸ¥å…¶å‡ åƒé‡Œä¹Ÿï¼›æ€’è€Œé£ï¼Œå…¶ç¿¼è‹¥å‚å¤©ä¹‹äº‘ã€‚æ˜¯é¸Ÿä¹Ÿï¼Œæµ·è¿åˆ™å°†å¾™äºå—å†¥ã€‚å—å†¥è€…ï¼Œå¤©æ± ä¹Ÿã€‚'
        },
        {
          chapter_name: 'é½ç‰©è®º',
          chapter_content: 'å—éƒ­å­ç¶¦éšæœºè€Œåï¼Œä»°å¤©è€Œå˜˜ï¼Œç­”ç„‰ä¼¼ä¸§å…¶è€¦ã€‚é¢œæˆå­æ¸¸ç«‹ä¾ä¹å‰ï¼Œæ›°ï¼š"ä½•å±…ä¹ï¼Ÿå½¢å›ºå¯ä½¿å¦‚æ§æœ¨ï¼Œè€Œå¿ƒå›ºå¯ä½¿å¦‚æ­»ç°ä¹ï¼Ÿä»Šä¹‹éšæœºè€…ï¼Œéæ˜”ä¹‹éšæœºè€…ä¹Ÿã€‚"å­ç¶¦æ›°ï¼š"åƒï¼Œä¸äº¦å–„ä¹ï¼Œè€Œé—®ä¹‹ä¹Ÿï¼ä»Šè€…å¾ä¸§æˆ‘ï¼Œæ±çŸ¥ä¹‹ä¹ï¼Ÿ"'
        }
      ]
    },
    {
      book_name: 'æ·®å—å­',
      chapters: [
        {
          chapter_name: 'åŸé“è®­',
          chapter_content: 'å¤«é“è€…ï¼Œè¦†å¤©è½½åœ°ï¼Œå»“å››æ–¹ï¼ŒæŸå…«æï¼Œé«˜ä¸å¯é™…ï¼Œæ·±ä¸å¯æµ‹ï¼ŒåŒ…è£¹å¤©åœ°ï¼Œç¦€å—æ— å½¢ï¼ŒåŸæµæ³‰æµ¡ï¼Œå†²è€Œå¾ç›ˆï¼ŒæµŠä»¥é™ä¹‹å¾æ¸…ï¼Œæ–½ä¹‹æ— åŠ³ï¼Œå–ä¹‹ä¸æŸï¼Œå¤„ä¹‹ä¸åšï¼Œç”¨ä¹‹ä¸å‹¤ã€‚'
        },
        {
          chapter_name: 'ä¿¶çœŸè®­',
          chapter_content: 'å¤«æ— ä¸ºè€…ï¼Œéè°“å…¶å‡æ»è€Œä¸åŠ¨ä¹Ÿï¼Œä»¥å…¶è¨€è«ä»å·±å‡ºä¹Ÿã€‚å¤«é“è€…ï¼Œé™¶å†¶ä¸‡ç‰©ï¼Œç»ˆå§‹æ— å½¢ï¼Œå¯‚ç„¶ä¸åŠ¨ï¼Œå¤§é€šæ··å†¥ï¼Œæ·±é—³å¹¿å¤§ï¼Œä¸å¯ä¸ºå¤–ï¼Œææ¯«å‰–èŠ’ï¼Œä¸å¯ä¸ºå†…ï¼Œæ— ç¯å µä¹‹å®‡ï¼Œè€Œç”Ÿæœ‰æ— ä¹‹æ€»åä¹Ÿã€‚'
        }
      ]
    }
  ],
  'å·§è°‹å®æˆ˜': [
    {
      book_name: 'å­™å­å…µæ³•',
      chapters: [
        {
          chapter_name: 'å§‹è®¡ç¯‡',
          chapter_content: 'å­™å­æ›°ï¼šå…µè€…ï¼Œå›½ä¹‹å¤§äº‹ï¼Œæ­»ç”Ÿä¹‹åœ°ï¼Œå­˜äº¡ä¹‹é“ï¼Œä¸å¯ä¸å¯Ÿä¹Ÿã€‚æ•…ç»ä¹‹ä»¥äº”äº‹ï¼Œæ ¡ä¹‹ä»¥è®¡ï¼Œè€Œç´¢å…¶æƒ…ï¼šä¸€æ›°é“ï¼ŒäºŒæ›°å¤©ï¼Œä¸‰æ›°åœ°ï¼Œå››æ›°å°†ï¼Œäº”æ›°æ³•ã€‚é“è€…ï¼Œä»¤æ°‘ä¸ä¸ŠåŒæ„ä¹Ÿï¼Œæ•…å¯ä»¥ä¸ä¹‹æ­»ï¼Œå¯ä»¥ä¸ä¹‹ç”Ÿï¼Œè€Œä¸ç•å±ã€‚'
        },
        {
          chapter_name: 'ä½œæˆ˜ç¯‡',
          chapter_content: 'å­™å­æ›°ï¼šå‡¡ç”¨å…µä¹‹æ³•ï¼Œé©°è½¦åƒé©·ï¼Œé©è½¦åƒä¹˜ï¼Œå¸¦ç”²åä¸‡ï¼Œåƒé‡Œé¦ˆç²®ï¼Œåˆ™å†…å¤–ä¹‹è´¹ï¼Œå®¾å®¢ä¹‹ç”¨ï¼Œèƒ¶æ¼†ä¹‹æï¼Œè½¦ç”²ä¹‹å¥‰ï¼Œæ—¥è´¹åƒé‡‘ï¼Œç„¶ååä¸‡ä¹‹å¸ˆä¸¾çŸ£ã€‚å…¶ç”¨æˆ˜ä¹Ÿï¼Œèƒœä¹…åˆ™é’å…µæŒ«é”ï¼Œæ”»åŸåˆ™åŠ›å±ˆï¼Œä¹…æš´å¸ˆåˆ™å›½ç”¨ä¸è¶³ã€‚'
        }
      ]
    },
    {
      book_name: 'é¬¼è°·å­',
      chapters: [
        {
          chapter_name: 'æ­é˜–ç¬¬ä¸€',
          chapter_content: 'ç²¤è‹¥ç¨½å¤åœ£äººä¹‹åœ¨å¤©åœ°é—´ä¹Ÿï¼Œä¸ºä¼—ç”Ÿä¹‹å…ˆï¼Œè§‚é˜´é˜³ä¹‹å¼€é˜–ä»¥å‘½ç‰©ï¼ŒçŸ¥å­˜äº¡ä¹‹é—¨æˆ·ï¼Œç­¹ç­–ä¸‡ç±»ä¹‹ç»ˆå§‹ï¼Œè¾¾äººå¿ƒä¹‹ç†ï¼Œè§å˜åŒ–ä¹‹æœ•ç„‰ï¼Œè€Œå®ˆå¸å…¶é—¨æˆ·ã€‚æ•…åœ£äººä¹‹åœ¨å¤©ä¸‹ä¹Ÿï¼Œè‡ªå¤åŠä»Šï¼Œå…¶é“ä¸€ä¹Ÿã€‚'
        },
        {
          chapter_name: 'ååº”ç¬¬äºŒ',
          chapter_content: 'å¤ä¹‹å¤§åŒ–è€…ï¼Œä¹ƒä¸æ— å½¢ä¿±ç”Ÿã€‚åä»¥è§‚å¾€ï¼Œå¤ä»¥éªŒæ¥ï¼›åä»¥çŸ¥å¤ï¼Œå¤ä»¥çŸ¥ä»Šï¼›åä»¥çŸ¥å½¼ï¼Œå¤ä»¥çŸ¥å·±ã€‚åŠ¨é™è™šå®ä¹‹ç†ï¼Œä¸åˆæ¥ä»Šï¼Œåå¤è€Œæ±‚ä¹‹ã€‚äº‹æœ‰åè€Œå¾—å¤è€…ï¼Œåœ£äººä¹‹æ„ä¹Ÿï¼Œä¸å¯ä¸å¯Ÿã€‚'
        }
      ]
    },
    {
      book_name: 'èµ„æ²»é€šé‰´',
      chapters: [
        {
          chapter_name: 'å‘¨çºªä¸€',
          chapter_content: 'å¨çƒˆç‹äºŒåä¸‰å¹´ï¼Œåˆå‘½æ™‹å¤§å¤«é­æ–¯ã€èµµç±ã€éŸ©è™”ä¸ºè¯¸ä¾¯ã€‚è‡£å…‰æ›°ï¼šè‡£é—»å¤©å­ä¹‹èŒè«å¤§äºç¤¼ï¼Œç¤¼è«å¤§äºåˆ†ï¼Œåˆ†è«å¤§äºåã€‚ä½•è°“ç¤¼ï¼Ÿçºªçº²æ˜¯ä¹Ÿã€‚ä½•è°“åˆ†ï¼Ÿå›è‡£æ˜¯ä¹Ÿã€‚ä½•è°“åï¼Ÿå…¬ã€ä¾¯ã€å¿ã€å¤§å¤«æ˜¯ä¹Ÿã€‚'
        },
        {
          chapter_name: 'ç§¦çºªä¸€',
          chapter_content: 'å§‹çš‡å¸äºŒåå…­å¹´ï¼Œåˆå¹¶å¤©ä¸‹ï¼Œä»¤ä¸ç›¸ã€å¾¡å²æ›°ï¼š"å¼‚æ—¥éŸ©ç‹çº³åœ°æ•ˆçºï¼Œè¯·ä¸ºè—©è‡£ï¼Œå·²è€Œå€çº¦ï¼Œä¸èµµã€é­åˆä»ç•”ç§¦ï¼Œæ•…å…´å…µè¯›ä¹‹ï¼Œè™å…¶ç‹ã€‚å¯¡äººä»¥çœ‡çœ‡ä¹‹èº«ï¼Œå…´å…µè¯›æš´ä¹±ï¼Œèµ–å®—åº™ä¹‹çµï¼Œå…­ç‹å’¸ä¼å…¶è¾œï¼Œå¤©ä¸‹å¤§å®šã€‚"'
        }
      ]
    },
    {
      book_name: 'ä¸‰åå…­è®¡',
      chapters: [
        {
          chapter_name: 'èƒœæˆ˜è®¡',
          chapter_content: 'ç’å¤©è¿‡æµ·ï¼šå¤‡å‘¨åˆ™æ„æ€ ï¼Œå¸¸è§åˆ™ä¸ç–‘ã€‚é˜´åœ¨é˜³ä¹‹å†…ï¼Œä¸åœ¨é˜³ä¹‹å¯¹ã€‚å¤ªé˜³ï¼Œå¤ªé˜´ã€‚å›´é­æ•‘èµµï¼šå…±æ•Œä¸å¦‚åˆ†æ•Œï¼Œæ•Œé˜³ä¸å¦‚æ•Œé˜´ã€‚å£°ä¸œå‡»è¥¿ï¼šæ•Œå¿—ä¹±èƒï¼Œä¸è™ï¼Œå¤ä¸‹å…‘ä¸Šä¹‹è±¡ã€‚åˆ©å…¶ä¸è‡ªä¸»è€Œå–ä¹‹ã€‚'
        },
        {
          chapter_name: 'æ•Œæˆ˜è®¡',
          chapter_content: 'ä»¥é€¸å¾…åŠ³ï¼šå›°æ•Œä¹‹åŠ¿ï¼Œä¸ä»¥æˆ˜ï¼›æŸåˆšç›ŠæŸ”ã€‚è¶ç«æ‰“åŠ«ï¼šæ•Œä¹‹å®³å¤§ï¼Œå°±åŠ¿å–åˆ©ï¼Œåˆšå†³æŸ”ä¹Ÿã€‚å£°ä¸œå‡»è¥¿ï¼šä¹±å¿—ä¹±èƒï¼Œä¸è™ï¼Œå¤ä¸‹å…‘ä¸Šä¹‹è±¡ã€‚åˆ©å…¶ä¸è‡ªä¸»è€Œå–ä¹‹ã€‚'
        }
      ]
    }
  ],
  'è¿ç­¹å¸·å¹„': [
    {
      book_name: 'éŸ©éå­',
      chapters: [
        {
          chapter_name: 'å­¤æ„¤',
          chapter_content: 'æ™ºæœ¯ä¹‹å£«ï¼Œå¿…è¿œäºåˆ‘æˆ®ï¼›è°è¯´ä¹‹å£«ï¼Œå¿…å›°äºè¯½è°¤ï¼›æ­£ç›´ä¹‹å£«ï¼Œå¿…æ­»äºè¯›æ€ã€‚æ•…æ˜ä¸»ä¹‹å›½ï¼Œæ— ä¹¦ç®€ä¹‹æ–‡ï¼Œä»¥æ³•ä¸ºæ•™ï¼›æ— å…ˆç‹ä¹‹è¯­ï¼Œä»¥åä¸ºå¸ˆã€‚ä»ŠåºŸå…ˆç‹ä¹‹å¾·æ•™ï¼Œè€Œæ³•åç‹ä¹‹æ”¿ä»¤ï¼Œåˆ™æ˜¯å­¦ä¸é“å¾·è€Œå­¦æš´ä¹±ä¹Ÿã€‚'
        },
        {
          chapter_name: 'è¯´éš¾',
          chapter_content: 'å‡¡è¯´ä¹‹éš¾ï¼Œéå¾çŸ¥ä¹‹æœ‰ä»¥è¯´ä¹‹éš¾ä¹Ÿï¼Œåˆéå¾è¾©ä¹‹éš¾èƒ½æ˜å¾æ„ä¹‹éš¾ä¹Ÿï¼›åˆéå¾æ•¢æ¨ªå¤±èƒ½å°½ä¹‹éš¾ä¹Ÿã€‚å‡¡è¯´ä¹‹éš¾ï¼Œåœ¨çŸ¥æ‰€è¯´ä¹‹å¿ƒï¼Œå¯ä»¥å¾è¯´å½“ä¹‹ã€‚æ‰€è¯´å‡ºäºä¸ºåé«˜è€…ä¹Ÿï¼Œè€Œè¯´ä¹‹ä»¥åšåˆ©ï¼Œåˆ™è§ä¸‹èŠ‚è€Œé‡å‘è´±ï¼Œå¿…å¼ƒè¿œçŸ£ã€‚'
        }
      ]
    },
    {
      book_name: 'å•†å›ä¹¦',
      chapters: [
        {
          chapter_name: 'æ›´æ³•',
          chapter_content: 'å­å…¬å¹³ç”»ï¼Œå…¬å­™é…ã€ç”˜é¾™ã€æœæŒšä¸‰äººè®®äºå‰ã€‚å…¬å­™é…æ›°ï¼š"æ²»ä¸–ä¸ä¸€é“ï¼Œä¾¿å›½ä¸å¿…æ³•å¤ã€‚æ±¤ã€æ­¦ä¹‹ç‹ä¹Ÿï¼Œä¸å¾ªå¤è€Œå…´ï¼›æ®·ã€å¤ä¹‹ç­ä¹Ÿï¼Œä¸æ˜“ç¤¼è€Œäº¡ã€‚ç„¶åˆ™åå¤è€…æœªå¿…å¯éï¼Œå¾ªç¤¼è€…æœªè¶³å¤šæ˜¯ä¹Ÿã€‚"'
        },
        {
          chapter_name: 'å¦ä»¤',
          chapter_content: 'æ— å®¿æ²»ï¼Œåˆ™é‚ªå®˜ä¸åŠä¸ºç§åˆ©äºæ°‘ï¼Œè€Œç™¾å§“å›°äºè€•æˆ˜ã€‚æ„šå¿ƒèºæ¬²ä¹‹æ°‘å£¹æ„ï¼Œåˆ™æŠ€å·§ä¹‹æ°‘æ— æ‰€é£Ÿï¼ŒæŠ€å·§ä¹‹æ°‘æ— æ‰€é£Ÿï¼Œåˆ™å¿…å†œã€‚æ„šå¿ƒèºæ¬²ä¹‹æ°‘å£¹æ„ï¼Œåˆ™æ¬²æ°‘ä¸å·è¥äºå•†è´¾ï¼ŒæŠ€å·§ä¹‹æ°‘ä¸æ·«å­¦äºäº‹æœ«ã€‚'
        }
      ]
    },
    {
      book_name: 'ç›é“è®º',
      chapters: [
        {
          chapter_name: 'æœ¬è®®',
          chapter_content: 'å¤§å¤«æ›°ï¼š"å¾€è€…éƒ¡å›½è¯¸ä¾¯å„ä»¥å…¶ç‰©è´¡è¾“ï¼Œå¾€æ¥çƒ¦æ‚ï¼Œç‰©å¤šè‹¦æ¶ï¼Œæˆ–ä¸å¿å…¶è´¹ã€‚æ•…éƒ¡ç½®è¾“å®˜ä»¥ç›¸ç»™è¿ï¼Œè€Œä¾¿è¿œæ–¹ä¹‹è´¡ï¼Œæ•…æ›°è¾“å®˜ã€‚"è´¤è‰¯æ›°ï¼š"å­”å­æ›°ï¼šèŠ‚ç”¨è€Œçˆ±äººï¼Œä½¿æ°‘ä»¥æ—¶ã€‚å…ˆç‹ä¹‹é“ï¼Œå¤©ä¸‹ä¹‹çºªçº²ä¹Ÿã€‚"'
        },
        {
          chapter_name: 'åŠ›è€•',
          chapter_content: 'å¤§å¤«æ›°ï¼š"ç‹è€…å¡æ°‘ä¹‹å…»ï¼Œéš˜å…¶åˆ©é€”ã€‚æ•…äºˆä¹‹åœ¨å†œï¼Œä¸åœ¨å•†ä¹Ÿã€‚æ˜¯ä»¥å…ˆç‹åˆ¶äº•ç”°ä¹‹æ³•è€Œå£åˆ†ä¹‹ï¼Œè®¾åºäº•ä¹‹å±…è€Œæ—å¤„ä¹‹ï¼Œæ‰€ä»¥ç¦å…¼å¹¶ï¼ŒæŠ‘æ·«ä¾ˆä¹Ÿã€‚"æ–‡å­¦æ›°ï¼š"å¤è€…åˆ¶ç”°ç™¾æ­¥ä¸ºäº©ï¼Œæ°‘äº•ç”°è€Œè€•ï¼Œä»€ä¸€è€Œç¨ï¼Œåˆ™å›½ç»™æ°‘å¯Œè€Œé¢‚å£°ä½œã€‚"'
        }
      ]
    },
    {
      book_name: 'è´è§‚æ”¿è¦',
      chapters: [
        {
          chapter_name: 'æ”¿ä½“',
          chapter_content: 'è´è§‚åˆï¼Œå¤ªå®—è°“ä¾è‡£æ›°ï¼š"ä¸ºå›ä¹‹é“ï¼Œå¿…é¡»å…ˆå­˜ç™¾å§“ã€‚è‹¥æŸç™¾å§“ä»¥å¥‰å…¶èº«ï¼ŒçŠ¹å‰²è‚¡ä»¥å•–è…¹ï¼Œè…¹é¥±è€Œèº«æ¯™ã€‚è‹¥å®‰å¤©ä¸‹ï¼Œå¿…é¡»å…ˆæ­£å…¶èº«ï¼Œæœªæœ‰èº«æ­£è€Œå½±æ›²ï¼Œä¸Šæ²»è€Œä¸‹ä¹±è€…ã€‚"'
        },
        {
          chapter_name: 'ä»»è´¤',
          chapter_content: 'è´è§‚äºŒå¹´ï¼Œå¤ªå®—è°“ä¾è‡£æ›°ï¼š"æœ•æ¯å¤œæ’æ€è¢«ç”²æ‰§é”ï¼Œç»è¥å››æ–¹ï¼ŒçŠ¹æä¸é€®ã€‚ä»Šå››æµ·å®‰é™ï¼Œæ— äº‹ä¹‹æ—¶ï¼Œè‹¥çºµæƒ…è‚†æ¬²ï¼Œåˆ™å½“æ—¶ä¹‹åŠŸï¼Œä¸€æœè€Œå¼ƒã€‚æ®·é‰´ä¸è¿œï¼Œæœ•æ‰€ä»¥ä¸æ•¢å¿˜æ€€ã€‚"æˆ¿ç„é¾„å¯¹æ›°ï¼š"é™›ä¸‹ä¸ä»¥æ—¢å¾€ä¸ºåŠŸï¼Œå¸¸ä»¥å°†æ¥ä¸ºè™‘ï¼Œè¯šå¯è°“è‡³å¾·ä¹Ÿã€‚"'
        }
      ]
    }
  ]
};

async function updateBookLibraryData() {
  console.log('ğŸš€ å¼€å§‹æ›´æ–°book_libraryè¡¨æ•°æ®');
  console.log('=' .repeat(50));
  
  try {
    // 1. åˆ é™¤ç°æœ‰æ•°æ®
    console.log('1. åˆ é™¤ç°æœ‰æ•°æ®...');
    const { error: deleteError } = await supabase
      .from('book_library')
      .delete()
      .neq('id', 0); // åˆ é™¤æ‰€æœ‰è®°å½•
    
    if (deleteError) {
      console.error('âŒ åˆ é™¤æ•°æ®å¤±è´¥:', deleteError);
      return;
    }
    console.log('âœ… ç°æœ‰æ•°æ®å·²æ¸…ç†');
    
    // 2. æ’å…¥æ–°æ•°æ®
    console.log('\n2. å¼€å§‹æ’å…¥æ–°çš„å››å¤§æ–¹ç•¥ç»çº¬æ•°æ®...');
    let totalInserted = 0;
    
    for (const [strategy, books] of Object.entries(bookData)) {
      console.log(`\næ­£åœ¨å¤„ç†: ${strategy}`);
      
      for (const book of books) {
        console.log(`  æ’å…¥ä¹¦ç±: ${book.book_name}`);
        
        for (const chapter of book.chapters) {
          const insertData = {
            book_name: book.book_name,
            strategy_category: strategy,
            chapter_name: chapter.chapter_name,
            chapter_content: chapter.chapter_content
          };
          
          const { error: insertError } = await supabase
            .from('book_library')
            .insert([insertData]);
          
          if (insertError) {
            console.error(`    âŒ æ’å…¥å¤±è´¥ (${chapter.chapter_name}):`, insertError);
          } else {
            console.log(`    âœ… æ’å…¥æˆåŠŸ: ${chapter.chapter_name}`);
            totalInserted++;
          }
        }
      }
    }
    
    // 3. éªŒè¯æ’å…¥çš„æ•°æ®
    console.log('\n3. éªŒè¯æ’å…¥çš„æ•°æ®...');
    const { data: verifyData, error: verifyError } = await supabase
      .from('book_library')
      .select('*');
    
    if (verifyError) {
      console.error('âŒ éªŒè¯æ•°æ®å¤±è´¥:', verifyError);
      return;
    }
    
    console.log(`âœ… æ•°æ®éªŒè¯æˆåŠŸï¼Œå…±æœ‰ ${verifyData.length} æ¡è®°å½•`);
    
    // 4. ç»Ÿè®¡å„åˆ†ç±»æ•°æ®
    console.log('\nğŸ“Š å„åˆ†ç±»æ•°æ®ç»Ÿè®¡:');
    const stats = {};
    verifyData.forEach(record => {
      stats[record.strategy_category] = (stats[record.strategy_category] || 0) + 1;
    });
    
    Object.entries(stats).forEach(([category, count]) => {
      console.log(`  ${category}: ${count} æ¡è®°å½•`);
    });
    
    console.log('\nğŸ‰ å››å¤§æ–¹ç•¥ç»çº¬æ•°æ®æ›´æ–°å®Œæˆï¼');
    console.log('åŒ…å«ï¼šè¡Œæ­£æŒç¤¼ã€é¡ºåŠ¿è€Œä¸ºã€å·§è°‹å®æˆ˜ã€è¿ç­¹å¸·å¹„');
    
  } catch (error) {
    console.error('âŒ æ“ä½œè¿‡ç¨‹ä¸­å‡ºé”™:', error);
  }
}

// æ‰§è¡Œæ•°æ®æ›´æ–°
updateBookLibraryData().then(() => {
  console.log('\nâœ… æ•°æ®æ›´æ–°ä»»åŠ¡å®Œæˆ');
  process.exit(0);
}).catch(error => {
  console.error('âŒ æ•°æ®æ›´æ–°ä»»åŠ¡å¤±è´¥:', error);
  process.exit(1);
});