(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{7699:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ask",function(){return t(5146)}])},5981:function(e,s,t){"use strict";t.d(s,{Y:function(){return a}});let n=(0,t(1608).eI)("https://crnfwlpcxrnqfgwqnmun.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNybmZ3bHBjeHJucWZnd3FubXVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNTAzMDQsImV4cCI6MjA3MDcyNjMwNH0.g_HmFQQiuGW2TZRzZ5gqCj098DZy6iwn_xQAE6kEUEI"),a={async insert(e,s){let{data:t,error:a}=await n.from(e).insert(s).select();if(a)throw console.error("插入数据错误:",a),a;return t},async select(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.from(e).select("*");Object.entries(s).forEach(e=>{let[s,n]=e;t=t.eq(s,n)});let{data:a,error:r}=await t;if(r)throw console.error("查询数据错误:",r),r;return a},async update(e,s,t){let{data:a,error:r}=await n.from(e).update(t).eq("id",s).select();if(r)throw console.error("更新数据错误:",r),r;return a},async delete(e,s){let{error:t}=await n.from(e).delete().eq("id",s);if(t)throw console.error("删除数据错误:",t),t;return!0},async testConnection(){try{let{data:e,error:s}=await n.rpc("version");if(s){let{error:e}=await n.from("test_connection_table").select("*").limit(1);if(e&&("PGRST116"===e.code||"42P01"===e.code))return console.log("数据库连接成功!"),!0;return console.error("数据库连接测试失败:",e||s),!1}return console.log("数据库连接成功!"),!0}catch(e){return console.error("连接测试异常:",e),!1}}}},5146:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var n=t(5893),a=t(7294),r=t(8339),i=t.n(r),c=t(5981);function l(){let[e,s]=(0,a.useState)(""),[t,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)(""),[u,d]=(0,a.useState)("未连接");(0,a.useEffect)(()=>{(async()=>{try{let e=await c.Y.testConnection();d(e?"已连接":"连接失败")}catch(e){d("连接错误"),console.error("数据库连接测试失败:",e)}})()},[]);let _=async s=>{if(s.preventDefault(),e.trim()){r(!0);try{let s="感谢您的提问！AI问答功能正在开发中，敬请期待。";await c.Y.insert("conversations",{question:e,answer:s,created_at:new Date().toISOString()}),o(s),console.log("问答已保存到数据库")}catch(e){console.error("保存问答到数据库失败:",e),o("感谢您的提问！AI问答功能正在开发中，敬请期待。")}finally{r(!1)}}};return(0,n.jsxs)("div",{className:i().container,children:[(0,n.jsxs)("nav",{className:i().navbar,children:[(0,n.jsx)("div",{className:i().brand,children:"方略 Fanglue"}),(0,n.jsxs)("div",{className:i().navLinks,children:[(0,n.jsx)("a",{href:"/",className:i().navLink,children:"返回首页"}),(0,n.jsxs)("div",{className:i().dbStatus,children:["数据库: ",u]})]})]}),(0,n.jsxs)("main",{className:i().mainContent,children:[(0,n.jsxs)("div",{className:i().header,children:[(0,n.jsx)("h1",{className:i().title,children:"问古今，寻方略"}),(0,n.jsx)("p",{className:i().subtitle,children:"请输入您的问题，让古智与算法为您解答"})]}),(0,n.jsxs)("form",{onSubmit:_,className:i().questionForm,children:[(0,n.jsx)("div",{className:i().inputGroup,children:(0,n.jsx)("textarea",{value:e,onChange:e=>s(e.target.value),placeholder:"请输入您的问题...\\n\\n例如：\\n• 如何在商业竞争中制定策略？\\n• 古代兵法在现代管理中的应用\\n• 面对困境时的决策思路",className:i().questionInput,rows:6,disabled:t})}),(0,n.jsx)("button",{type:"submit",className:i().submitButton,disabled:!e.trim()||t,children:t?"正在思考...":"立即寻索"})]}),l&&(0,n.jsxs)("div",{className:i().answerSection,children:[(0,n.jsx)("h3",{className:i().answerTitle,children:"方略解答"}),(0,n.jsx)("div",{className:i().answerContent,children:l})]}),(0,n.jsxs)("div",{className:i().features,children:[(0,n.jsxs)("div",{className:i().featureItem,children:[(0,n.jsx)("div",{className:i().featureIcon,children:"\uD83D\uDCDA"}),(0,n.jsxs)("div",{className:i().featureText,children:[(0,n.jsx)("div",{className:i().featureTitle,children:"博古通今"}),(0,n.jsx)("div",{className:i().featureDesc,children:"融合古代智慧与现代思维"})]})]}),(0,n.jsxs)("div",{className:i().featureItem,children:[(0,n.jsx)("div",{className:i().featureIcon,children:"\uD83C\uDFAF"}),(0,n.jsxs)("div",{className:i().featureText,children:[(0,n.jsx)("div",{className:i().featureTitle,children:"精准解答"}),(0,n.jsx)("div",{className:i().featureDesc,children:"针对性分析，实用性建议"})]})]}),(0,n.jsxs)("div",{className:i().featureItem,children:[(0,n.jsx)("div",{className:i().featureIcon,children:"⚡"}),(0,n.jsxs)("div",{className:i().featureText,children:[(0,n.jsx)("div",{className:i().featureTitle,children:"即时响应"}),(0,n.jsx)("div",{className:i().featureDesc,children:"快速获得深度思考结果"})]})]})]})]}),(0,n.jsx)("footer",{className:i().footer,children:(0,n.jsx)("p",{children:"\xa9 2024 方略 Fanglue - 让千载经略，为你今日一策"})})]})}},8339:function(e){e.exports={container:"Ask_container__K8Er4",navbar:"Ask_navbar__nZK1Y",brand:"Ask_brand__kNLBD",navLinks:"Ask_navLinks__dRjsn",navLink:"Ask_navLink__QzufV",dbStatus:"Ask_dbStatus__dVUJK",mainContent:"Ask_mainContent__AMGTl",header:"Ask_header__PTw99",title:"Ask_title__omFmW",subtitle:"Ask_subtitle__hitrC",questionForm:"Ask_questionForm__WUnSJ",inputGroup:"Ask_inputGroup__epmN7",questionInput:"Ask_questionInput__oIowT",submitButton:"Ask_submitButton__tig4h",answerSection:"Ask_answerSection__jXE7p",answerTitle:"Ask_answerTitle__rUmIN",answerContent:"Ask_answerContent__DpQr7",features:"Ask_features__g87Oj",featureItem:"Ask_featureItem__8vyTs",featureIcon:"Ask_featureIcon__i_Vbr",featureText:"Ask_featureText__g8Rhu",featureTitle:"Ask_featureTitle__P2uic",featureDesc:"Ask_featureDesc__Smmzb",footer:"Ask_footer__sIceh"}}},function(e){e.O(0,[608,774,888,179],function(){return e(e.s=7699)}),_N_E=e.O()}]);